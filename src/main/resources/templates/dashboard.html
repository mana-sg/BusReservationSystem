<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Bus Management System</title>
</head>
<body>
    <div th:replace="layouts/base :: html(~{::div.content})">
        <div class="content">
            <!-- Dashboard Header -->
            <section class="bg-primary text-white py-4 mb-5">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-6">
                            <h1 class="fw-bold mb-0">Dashboard</h1>
                            <p class="lead">Welcome, <span sec:authentication="name">Username</span>!</p>
                        </div>
                        <div class="col-lg-6 text-lg-end">
                            <div class="d-flex flex-wrap justify-content-lg-end gap-2">
                                <a href="#" class="btn btn-light">
                                    <i class="fas fa-bell me-1"></i> 
                                    <span class="badge bg-danger">3</span>
                                </a>
                                <a th:href="@{/profile}" class="btn btn-outline-light">
                                    <i class="fas fa-user-circle me-1"></i> My Profile
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Dashboard Content -->
            <section class="py-4">
                <div class="container">
                    <div class="row">
                        <!-- Sidebar -->
                        <div class="col-lg-3 mb-4 mb-lg-0">
                            <div class="card border-0 shadow-sm mb-4">
                                <div class="card-body">
                                    <div class="d-flex align-items-center mb-4">
                                        <div class="bg-primary text-white rounded-circle p-3 me-3">
                                            <i class="fas fa-user fa-2x"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0" sec:authentication="name">Username</h5>
                                            <p class="text-muted mb-0" sec:authentication="principal.authorities">Roles</p>
                                        </div>
                                    </div>
                                    
                                    <hr>
                                    
                                    <div class="list-group list-group-flush">
                                        <a href="#" class="list-group-item list-group-item-action active">
                                            <i class="fas fa-home me-2"></i> Dashboard
                                        </a>
                                        <a th:href="@{/bookings}" class="list-group-item list-group-item-action">
                                            <i class="fas fa-ticket-alt me-2"></i> My Bookings
                                        </a>
                                        <a th:href="@{/profile}" class="list-group-item list-group-item-action">
                                            <i class="fas fa-user-circle me-2"></i> My Profile
                                        </a>
                                        <a href="#" class="list-group-item list-group-item-action">
                                            <i class="fas fa-history me-2"></i> Travel History
                                        </a>
                                        <a href="#" class="list-group-item list-group-item-action">
                                            <i class="fas fa-bell me-2"></i> Notifications
                                        </a>
                                        <a href="#" class="list-group-item list-group-item-action">
                                            <i class="fas fa-cog me-2"></i> Settings
                                        </a>
                                    </div>
                                    
                                    <hr>
                                    
                                    <form th:action="@{/logout}" method="post">
                                        <button type="submit" class="btn btn-danger w-100">
                                            <i class="fas fa-sign-out-alt me-2"></i> Logout
                                        </button>
                                    </form>
                                </div>
                            </div>
                            
                            <!-- Help Card -->
                            <div class="card border-0 shadow-sm bg-info text-white">
                                <div class="card-body">
                                    <h5 class="card-title">Need Help?</h5>
                                    <p class="card-text">Contact our customer support team for assistance with your bookings or queries.</p>
                                    <a href="#" class="btn btn-light">Contact Support</a>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Main Content -->
                        <div class="col-lg-9">
                            <!-- Stats Cards -->
                            <div class="row g-4 mb-4">
                                <!-- Total Bookings -->
                                <div class="col-md-4">
                                    <div class="card border-0 shadow-sm h-100">
                                        <div class="card-body">
                                            <div class="d-flex justify-content-between align-items-center mb-3">
                                                <h6 class="card-subtitle text-muted">Total Bookings</h6>
                                                <div class="bg-primary bg-opacity-10 text-primary p-2 rounded">
                                                    <i class="fas fa-ticket-alt"></i>
                                                </div>
                                            </div>
                                            <h3 class="card-title mb-0">12</h3>
                                            <p class="text-success mb-0 mt-2">
                                                <i class="fas fa-arrow-up me-1"></i> 
                                                <span>2 more than last month</span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Upcoming Trips -->
                                <div class="col-md-4">
                                    <div class="card border-0 shadow-sm h-100">
                                        <div class="card-body">
                                            <div class="d-flex justify-content-between align-items-center mb-3">
                                                <h6 class="card-subtitle text-muted">Upcoming Trips</h6>
                                                <div class="bg-success bg-opacity-10 text-success p-2 rounded">
                                                    <i class="fas fa-calendar-check"></i>
                                                </div>
                                            </div>
                                            <h3 class="card-title mb-0">3</h3>
                                            <p class="text-success mb-0 mt-2">
                                                <i class="fas fa-calendar-alt me-1"></i>
                                                <span>Next trip in 2 days</span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Reward Points -->
                                <div class="col-md-4">
                                    <div class="card border-0 shadow-sm h-100">
                                        <div class="card-body">
                                            <div class="d-flex justify-content-between align-items-center mb-3">
                                                <h6 class="card-subtitle text-muted">Reward Points</h6>
                                                <div class="bg-warning bg-opacity-10 text-warning p-2 rounded">
                                                    <i class="fas fa-star"></i>
                                                </div>
                                            </div>
                                            <h3 class="card-title mb-0">850</h3>
                                            <p class="text-success mb-0 mt-2">
                                                <i class="fas fa-gift me-1"></i>
                                                <span>150 away from next reward</span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Upcoming Trips -->
                            <div class="card border-0 shadow-sm mb-4">
                                <div class="card-header bg-white py-3">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <h5 class="mb-0">Upcoming Trips</h5>
                                        <a th:href="@{/bookings}" class="btn btn-sm btn-primary">View All</a>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover align-middle">
                                            <thead>
                                                <tr>
                                                    <th>Booking ID</th>
                                                    <th>From - To</th>
                                                    <th>Date</th>
                                                    <th>Status</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td><strong>#BK00123</strong></td>
                                                    <td>Bangalore - Mumbai</td>
                                                    <td>15 Apr, 2025</td>
                                                    <td><span class="badge bg-success">Confirmed</span></td>
                                                    <td>
                                                        <div class="btn-group">
                                                            <a href="#" class="btn btn-sm btn-outline-primary">View</a>
                                                            <a href="#" class="btn btn-sm btn-outline-danger">Cancel</a>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td><strong>#BK00124</strong></td>
                                                    <td>Mumbai - Pune</td>
                                                    <td>22 Apr, 2025</td>
                                                    <td><span class="badge bg-warning text-dark">Processing</span></td>
                                                    <td>
                                                        <div class="btn-group">
                                                            <a href="#" class="btn btn-sm btn-outline-primary">View</a>
                                                            <a href="#" class="btn btn-sm btn-outline-danger">Cancel</a>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td><strong>#BK00125</strong></td>
                                                    <td>Pune - Bangalore</td>
                                                    <td>30 Apr, 2025</td>
                                                    <td><span class="badge bg-success">Confirmed</span></td>
                                                    <td>
                                                        <div class="btn-group">
                                                            <a href="#" class="btn btn-sm btn-outline-primary">View</a>
                                                            <a href="#" class="btn btn-sm btn-outline-danger">Cancel</a>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Quick Actions & Recently Viewed -->
                            <div class="row g-4">
                                <!-- Quick Actions -->
                                <div class="col-md-6">
                                    <div class="card border-0 shadow-sm h-100">
                                        <div class="card-header bg-white py-3">
                                            <h5 class="mb-0">Quick Actions</h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="row g-3">
                                                <div class="col-6">
                                                    <a href="#" class="btn btn-light w-100 p-3 text-start">
                                                        <i class="fas fa-search text-primary me-2"></i> Book a Ticket
                                                    </a>
                                                </div>
                                                <div class="col-6">
                                                    <a href="#" class="btn btn-light w-100 p-3 text-start">
                                                        <i class="fas fa-map-marker-alt text-danger me-2"></i> Track Bus
                                                    </a>
                                                </div>
                                                <div class="col-6">
                                                    <a href="#" class="btn btn-light w-100 p-3 text-start">
                                                        <i class="fas fa-history text-warning me-2"></i> View History
                                                    </a>
                                                </div>
                                                <div class="col-6">
                                                    <a href="#" class="btn btn-light w-100 p-3 text-start">
                                                        <i class="fas fa-wallet text-success me-2"></i> My Wallet
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Recently Viewed -->
                                <div class="col-md-6">
                                    <div class="card border-0 shadow-sm h-100">
                                        <div class="card-header bg-white py-3">
                                            <h5 class="mb-0">Recently Viewed Routes</h5>
                                        </div>
                                        <div class="card-body">
                                            <ul class="list-group list-group-flush">
                                                <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                                                    <div>
                                                        <p class="mb-0"><strong>Bangalore to Mumbai</strong></p>
                                                        <small class="text-muted">15 Apr, 2025</small>
                                                    </div>
                                                    <a href="#" class="btn btn-sm btn-primary">Book Again</a>
                                                </li>
                                                <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                                                    <div>
                                                        <p class="mb-0"><strong>Delhi to Jaipur</strong></p>
                                                        <small class="text-muted">21 Apr, 2025</small>
                                                    </div>
                                                    <a href="#" class="btn btn-sm btn-primary">Book Again</a>
                                                </li>
                                                <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                                                    <div>
                                                        <p class="mb-0"><strong>Chennai to Hyderabad</strong></p>
                                                        <small class="text-muted">28 Apr, 2025</small>
                                                    </div>
                                                    <a href="#" class="btn btn-sm btn-primary">Book Again</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</body>
</html>